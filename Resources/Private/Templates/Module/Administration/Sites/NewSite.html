<f:layout name="BackendSubModule" />

<f:section name="content">
	<h2><f:translate id="new.site">New site</f:translate></h2>
	<f:form action="createSite">

		<div class="neos-row-fluid">

			<fieldset class="neos-span5">
				<legend><f:translate id="import.a.site">Import a site</f:translate></legend>
				<f:if condition="{sitePackages -> f:count()} > 0">
					<f:then>
						<div class="neos-control-group">
							<label class="neos-control-label" for="site"><f:translate id="select.a.site">Select a site</f:translate></label>
							<div class="neos-controls neos-select">
								<f:form.select name="site" options="{sitePackages}" optionLabelField="packageKey" optionValueField="packageKey" id="site" class="neos-span12" />
							</div>
						</div>
					</f:then>
					<f:else>
						<p><f:translate id="no.site.package.available">No site packages are available. Make sure you have an active site package.</f:translate></p>
					</f:else>
				</f:if>
			</fieldset>
			<fieldset class="neos-span5 neos-offset1">
				<legend><f:translate id="create.a.blank.site">Create a blank site</f:translate></legend>
				<f:if condition="{generatorServiceIsAvailable}">
					<f:then>
						<div class="neos-control-group">
							<label class="neos-control-label" for="package-key"><f:translate id="package.key">Package Key</f:translate></label>
							<div class="neos-controls">
								<f:form.textfield name="packageKey" value="{packageKey}" id="package-key" class="neos-span12" />
								<span class="neos-help-block"><f:translate id="valid.package.key.in.form">A valid package key should be in the form </f:translate><em>VendorName.MyPackageKey</em>.</span>
							</div>
						</div>
						<div class="neos-control-group">
							<label class="neos-control-label" for="site-name"><f:translate id="site.name">Site Name</f:translate></label>
							<div class="neos-controls">
								<f:form.textfield name="siteName" value="{siteName}" id="site-name" />
							</div>
						</div>
					</f:then>
					<f:else>
						<p><f:translate id="the">The </f:translate><em><f:translate id="neos.kickstarter">Neos Kickstarter</f:translate></em><f:translate id="package.not.installed.install"> package is not installed, install it to kickstart new sites.</f:translate></p>
					</f:else>
				</f:if>
			</fieldset>
		</div>
		<div class="neos-footer">
			<f:link.action action="index" class="neos-button"><f:translate id="cancel">Cancel</f:translate></f:link.action>
			<f:form.submit value="Create site" class="neos-button neos-button-primary" />
		</div>
	</f:form>
</f:section>